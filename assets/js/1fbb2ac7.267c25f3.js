"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[2637],{3905:(e,t,r)=>{r.d(t,{Zo:()=>m,kt:()=>d});var o=r(7294);function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){a(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function l(e,t){if(null==e)return{};var r,o,a=function(e,t){if(null==e)return{};var r,o,a={},n=Object.keys(e);for(o=0;o<n.length;o++)r=n[o],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(o=0;o<n.length;o++)r=n[o],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var s=o.createContext({}),c=function(e){var t=o.useContext(s),r=t;return e&&(r="function"==typeof e?e(t):i(i({},t),e)),r},m=function(e){var t=c(e.components);return o.createElement(s.Provider,{value:t},e.children)},p={inlineCode:"code",wrapper:function(e){var t=e.children;return o.createElement(o.Fragment,{},t)}},u=o.forwardRef((function(e,t){var r=e.components,a=e.mdxType,n=e.originalType,s=e.parentName,m=l(e,["components","mdxType","originalType","parentName"]),u=c(r),d=a,f=u["".concat(s,".").concat(d)]||u[d]||p[d]||n;return r?o.createElement(f,i(i({ref:t},m),{},{components:r})):o.createElement(f,i({ref:t},m))}));function d(e,t){var r=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var n=r.length,i=new Array(n);i[0]=u;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l.mdxType="string"==typeof e?e:a,i[1]=l;for(var c=2;c<n;c++)i[c]=r[c];return o.createElement.apply(null,i)}return o.createElement.apply(null,r)}u.displayName="MDXCreateElement"},6829:(e,t,r)=>{r.r(t),r.d(t,{assets:()=>s,contentTitle:()=>i,default:()=>p,frontMatter:()=>n,metadata:()=>l,toc:()=>c});var o=r(7462),a=(r(7294),r(3905));const n={sidebar_position:3,title:"03 - RAD Lab Management Project"},i="Setup RAD Lab Management GCP Project",l={unversionedId:"terraform-cli/cli_installation/management-project",id:"terraform-cli/cli_installation/management-project",title:"03 - RAD Lab Management Project",description:"RAD Lab Admin project which will be set as the default gcloud project config, GCS for Terraform state and the APIs from this management project will be used to deploy RAD Lab modules for your users.",source:"@site/docs/terraform-cli/cli_installation/management-project.md",sourceDirName:"terraform-cli/cli_installation",slug:"/terraform-cli/cli_installation/management-project",permalink:"/rad-lab/docs/terraform-cli/cli_installation/management-project",draft:!1,tags:[],version:"current",sidebarPosition:3,frontMatter:{sidebar_position:3,title:"03 - RAD Lab Management Project"},sidebar:"tutorialSidebar",previous:{title:"02 - Google Cloud",permalink:"/rad-lab/docs/terraform-cli/cli_installation/setup-gcp"},next:{title:"Configure Modules",permalink:"/rad-lab/docs/cli_configure"}},s={},c=[{value:"GCS Bucket for Terraform State",id:"gcs-bucket-for-terraform-state",level:2},{value:"IAM Permissions Prerequisites",id:"iam-permissions-prerequisites",level:2}],m={toc:c};function p(e){let{components:t,...r}=e;return(0,a.kt)("wrapper",(0,o.Z)({},m,r,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("h1",{id:"setup-rad-lab-management-gcp-project"},"Setup RAD Lab Management GCP Project"),(0,a.kt)("p",null,"RAD Lab Admin project which will be set as the default gcloud project config, GCS for Terraform state and the APIs from this management project will be used to deploy RAD Lab modules for your users."),(0,a.kt)("admonition",{title:"Important",type:"warning"},(0,a.kt)("p",{parentName:"admonition"},"Ensure ",(0,a.kt)("a",{parentName:"p",href:"../source-control"},"01 - Source Control")," and ",(0,a.kt)("a",{parentName:"p",href:"../setup-gcp"},"02 - Google Cloud")," steps are complete before\nproceeding")),(0,a.kt)("h2",{id:"gcs-bucket-for-terraform-state"},"GCS Bucket for Terraform State"),(0,a.kt)("p",null,"Create a ",(0,a.kt)("a",{parentName:"p",href:"https://cloud.google.com/storage/docs/creating-buckets"},"Cloud Storage Bucket")," within ",(0,a.kt)("strong",{parentName:"p"},"RAD Lab Management Project")," with read/write access to save the Terraform state for the entity (user or service account) spinning up the modules. This bucket is used to save state for all active deployments. "),(0,a.kt)("admonition",{title:"Terrafrom State",type:"tip"},(0,a.kt)("p",{parentName:"admonition"},"We recommend to use a GCS bucket to store Terraform state instead of storing it locally so that multiple Cloud admins can work through deploying the modules.")),(0,a.kt)("h2",{id:"iam-permissions-prerequisites"},"IAM Permissions Prerequisites"),(0,a.kt)("p",null,"In addition to the ",(0,a.kt)("a",{parentName:"p",href:"https://github.com/GoogleCloudPlatform/rad-lab/tree/main/modules"},"module")," specific minimum ",(0,a.kt)("a",{parentName:"p",href:"https://cloud.google.com/iam/docs/overview"},"IAM")," permissions (listed in Each ",(0,a.kt)("a",{parentName:"p",href:"https://github.com/GoogleCloudPlatform/rad-lab/tree/main/modules"},"module"),"'s ",(0,a.kt)("inlineCode",{parentName:"p"},"README.md"),"), entities deploying RAD Lab modules via ",(0,a.kt)("strong",{parentName:"p"},"RAD Lab Launcher")," will also need to have below permissions:"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"Parent: ",(0,a.kt)("inlineCode",{parentName:"li"},"roles/iam.organizationRoleViewer")," ","[OPTIONAL: This permission is not required if ",(0,a.kt)("em",{parentName:"li"},"no parent (organization/folder)")," exists]"),(0,a.kt)("li",{parentName:"ul"},"RAD Lab Management Project: ",(0,a.kt)("inlineCode",{parentName:"li"},"roles/storage.admin")),(0,a.kt)("li",{parentName:"ul"},"RAD Lab Management Project: ",(0,a.kt)("inlineCode",{parentName:"li"},"roles/serviceusage.serviceUsageConsumer"))),(0,a.kt)("p",null,"You can use the Google Cloud Console to ",(0,a.kt)("a",{parentName:"p",href:"https://cloud.google.com/iam/docs/manage-access-other-resources"},"view")," or ",(0,a.kt)("a",{parentName:"p",href:"https://cloud.google.com/iam/docs/manage-access-other-resources#single-role"},"change")," IAM permissions."))}p.isMDXComponent=!0}}]);